const fs = require('fs');
const path = require('path');

// Правилният текст на кирилица
const replacements = {
  'РЎРѕР»РёРґРЅРѕСЃС‚': 'Солидност',
  'РџСЂРѕРёР·РІРѕРґСЃС‚РІРѕ': 'Производство',
  'РљР°РЅС‚РѕСЃР»РµРїРІР°С‰Рё': 'Кантослепващи',
  'РњР°С€РёРЅРё': 'Машини',
  'Р СѓСЃРµ': 'Русе',
  'Р'СЉР»РіР°СЂРёСЏ': 'България',
  'РІРѕРґРµС‰': 'водещ',
  'Р±СЉР»РіР°СЂСЃРєРё': 'български',
  'РїСЂРѕРёР·РІРѕРґРёС‚РµР»': 'производител',
  'РєР°РЅС‚РѕСЃР»РµРїРІР°С‰Рё': 'кантослепващи',
  'РјР°С€РёРЅРё': 'машини',
  'РљР°С‡РµСЃС‚РІРµРЅРѕ': 'Качествено',
  'РѕР±РѕСЂСѓРґРІР°РЅРµ': 'оборудване',
  'РјРµР±РµР»РЅР°С‚Р°': 'мебелната',
  'РїСЂРѕРјРёС€Р»РµРЅРѕСЃС‚': 'промишленост',
  'СЃРµСЂРІРёР·РЅРё': 'сервизни',
  'СѓСЃР»СѓРіРё': 'услуги',
  'СЂРµР·РµСЂРІРЅРё': 'резервни',
  'С‡Р°СЃС‚Рё': 'части',
  'Р"РѕСЃС‚Р°РІРєР°': 'Доставка',
  'С‡СѓР¶Р±РёРЅР°': 'чужбина',
  'РєР°РЅС‚РёСЂР°С‰Р°': 'кантираща',
  'РјР°С€РёРЅР°': 'машина',
  'РјРµР±РµР»РЅРѕ': 'мебелно',
  'РїСЂРѕРёР·РІРѕРґСЃС‚РІРѕ': 'производство',
  'РЅР°РґРµР¶РґРЅРѕСЃС‚': 'надеждност',
  'РїСЂРѕС„РµСЃРёРѕРЅР°Р»РёР·СЉРј': 'професионализъм',
  'РќРђР§РђР›Рћ': 'НАЧАЛО',
  'РљРђРќРўРћРЎР›Р•РџР'РђР©Р': 'КАНТОСЛЕПВАЩИ',
  'РњРђРЁРРќР': 'МАШИНИ',
  'РЎР•Р Р'РР—РќР': 'СЕРВИЗНИ',
  'РЈРЎР›РЈР"Р': 'УСЛУГИ',
  'Р'РўРћР Рђ': 'ВТОРА',
  'РЈРџРћРўР Р•Р'Рђ': 'УПОТРЕБА',
  'Р"РђР›Р•Р РРЇ': 'ГАЛЕРИЯ',
  'РЎРќРРњРљР': 'СНИМКИ',
  'Р'РР"Р•Рћ': 'ВИДЕО',
  'РљРћРќРўРђРљРўР': 'КОНТАКТИ',
  'Р—Р°': 'За',
  'РЅР°СЃ': 'нас',
  'РћС‚': 'От',
  'С„РёСЂРјР°С‚Р°': 'фирмата',
  'СѓС‚РІСЉСЂРґРµРЅ': 'утвърден',
  'РЎРћР›РР"РќРћРЎРў': 'СОЛИДНОСТ',
  'СЂРµРјРѕРЅС‚': 'ремонт',
  'РўРѕР·Рё': 'Този',
  'СЃР°Р№С‚': 'сайт',
  'РёР·РїРѕР»Р·РІР°': 'използва',
  'Р±РёСЃРєРІРёС‚РєРё': 'бисквитки',
  'РїРѕРґРѕР±СЂСЏРІР°РЅРµ': 'подобряване',
  'РїРѕС‚СЂРµР±РёС‚РµР»СЃРєРѕС‚Рѕ': 'потребителското',
  'РёР·Р¶РёРІСЏРІР°РЅРµ': 'изживяване',
  'РќР°СѓС‡РµС‚Рµ': 'Научете',
  'РїРѕРІРµС‡Рµ': 'повече',
  'РџСЂРёРµРјР°Рј': 'Приемам',
  'РўРѕРї': 'Топ',
  'РїСЂРѕРґСѓРєС‚Рё': 'продукти',
  'Р Р°Р·РіР»РµРґР°Р№С‚Рµ': 'Разгледайте',
  'РїСЂРѕРґСѓРєС‚РёС‚Рµ': 'продуктите',
  'РќР°С€РёС‚Рµ': 'Нашите',
  'С‚РѕРї': 'топ',
  'РїСЂРµРґР»РѕР¶РµРЅРёСЏ': 'предложения',
  'РљР°С‡РµСЃС‚РІРѕ': 'Качество',
  'РґРѕСЃС‚СЉРїРЅР°': 'достъпна',
  'С†РµРЅР°': 'цена',
  'Р'РёР¶С‚Рµ': 'Вижте',
  'Р'РёР¶': 'Виж',
  'РґРµС‚Р°Р№Р»Рё': 'детайли'
};

// Функция за замяна на текста
function fixEncoding(content) {
  let fixed = content;
  for (const [wrong, correct] of Object.entries(replacements)) {
    fixed = fixed.split(wrong).join(correct);
  }
  return fixed;
}

// Обработка на всички HTML файлове
const htmlFiles = [
  'index.html',
  'pages/galeria.html',
  'pages/kontakti.html',
  'pages/kantoslepvashti-mashini.html',
  'pages/servizni-uslugi.html',
  'pages/vtora-upotreba.html',
  'pages/video-galeria.html',
  'products/product-km7000.html',
  'products/product-km4001pe.html',
  'products/product-km900m.html',
  'products/product-km2015tpm.html'
];

htmlFiles.forEach(file => {
  const filePath = path.join(__dirname, file);
  if (fs.existsSync(filePath)) {
    const content = fs.readFileSync(filePath, 'utf8');
    const fixed = fixEncoding(content);
    fs.writeFileSync(filePath, fixed, 'utf8');
    console.log(`Fixed: ${file}`);
  }
});

console.log('All files fixed!');
